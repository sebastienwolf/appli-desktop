<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello World!</title>
    <link rel="stylesheet" href="index.css" />
    <title>GÃ©olocalisation</title>
  </head>
  <body>
    <h1>ðŸ’– Hello World!</h1>
    <p>Welcome to your Electron application.</p>

    <h1>GÃ©olocalisation</h1>

    <div id="weather-cards"></div>


    <script>
     const lat = "43.296482";
const lon = "5.36978";
const apikey = "ce594e43db947220ca66ff854126f346";

const apiUrl = "https://api.openweathermap.org/data/2.5/forecast?lat=" + lat + "&lon=" + lon + "&units=metric"+ "&lang=fr" + "&appid=" + apikey;
console.log(apiUrl);

async function getWeather() {
  const reponse = await fetch(apiUrl);
  const temp = await reponse.json();
  console.log(temp);

  const data = [];

  temp.list.forEach(element => {
    const info = [];
    info.push(element.dt_txt)
    info.push(element.main.temp)
    info.push(element.weather[0].description)
    data.push(info)
   
  });
  console.log(data)


  // CrÃ©ez des cartes pour afficher les donnÃ©es
  const weatherCards = document.getElementById("weather-cards");

  data.forEach(info => {
  const card = document.createElement("div");
  card.classList.add("card");

  const date = document.createElement("p");
  date.textContent = `Date: ${info[0]}`;

  const temperature = document.createElement("p");
  temperature.textContent = `Temperature: ${info[1]}Â°C`;

  const description = document.createElement("p");
  description.textContent = `Description: ${info[2]}`;

  card.appendChild(date);
  card.appendChild(temperature);
  card.appendChild(description);

  weatherCards.appendChild(card);
});
}


getWeather();
  </script>
  </body>
</html>
